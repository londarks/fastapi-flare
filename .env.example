# ── Redis connection ──────────────────────────────────────────────────────────
# Option A: individual fields (recommended — sem URL-encoding na senha)
FLARE_REDIS_HOST=localhost
FLARE_REDIS_PORT=6379
FLARE_REDIS_PASSWORD=
FLARE_REDIS_DB=0

# Option B: URL completa (tem prioridade quando definida)
# Atenção: caracteres especiais na senha precisam ser percent-encoded
# FLARE_REDIS_URL=redis://:minha_senha@host:6379/0
# ── Storage backend ──────────────────────────────────────────────────────────────────
# "redis"  (default) — Redis Streams. Requires a running Redis instance.
# "sqlite"           — Local SQLite file. Requires: pip install 'fastapi-flare[sqlite]'
#
FLARE_STORAGE_BACKEND=redis
# FLARE_SQLITE_PATH=flare.db
# ── Dashboard ────────────────────────────────────────────────────────────────
FLARE_DASHBOARD_PATH=/flare
FLARE_DASHBOARD_TITLE=Flare — Error Logs

# ── Storage ──────────────────────────────────────────────────────────────────
FLARE_MAX_ENTRIES=10000
FLARE_RETENTION_HOURS=168

# ── Worker ───────────────────────────────────────────────────────────────────
FLARE_WORKER_INTERVAL_SECONDS=5
FLARE_WORKER_BATCH_SIZE=100
# ── Zitadel OAuth2 (optional) ───────────────────────────────────────────────
# Modo Bearer (API clients):
#   Defina os três campos abaixo. O /flare exigirá:
#     Authorization: Bearer <token>
#
# Modo Browser PKCE (acesso pelo browser):
#   Adicione também FLARE_ZITADEL_REDIRECT_URI.
#   Ao abrir /flare no browser, o usuário é redirecionado para o Zitadel,
#   faz login e volta autenticado — sem precisar copiar token manualmente.
#
# Requires: pip install "fastapi-flare[auth]"
#
# FLARE_ZITADEL_DOMAIN=auth.mycompany.com
# FLARE_ZITADEL_CLIENT_ID=<your-client-id>
# FLARE_ZITADEL_PROJECT_ID=<your-project-id>
#
# Modo browser — registre esta URI como Redirect URI no Zitadel:
# FLARE_ZITADEL_REDIRECT_URI=http://localhost:8001/auth/callback
#
# Produção (troque pelo domínio real):
# FLARE_ZITADEL_REDIRECT_URI=https://myapp.com/auth/callback
#
# Chave para assinar o cookie de sessão (obrigatória no modo browser):
# Gere com: python -c "import secrets; print(secrets.token_hex(32))"
# FLARE_ZITADEL_SESSION_SECRET=<hex-string-de-32-bytes>
#
# Optional — accept tokens from a legacy/migrated project as well:
# FLARE_ZITADEL_OLD_CLIENT_ID=<old-client-id>
# FLARE_ZITADEL_OLD_PROJECT_ID=<old-project-id>
